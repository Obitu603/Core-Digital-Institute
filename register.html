<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enroll Now - CoreDigital Institute</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Favicon -->
    <link rel="icon" type="image/png"  href="img/logon.jpg">
    <link rel="stylesheet" href="register.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
    <!-- Enrollment Section -->
    <section class="enrollment-section" id="enrollment">
        <div class="container">
            <div class="enrollment-container">
                <div class="enrollment-image">
                    <h2>Start Your Digital Journey Today</h2>
                    <p>Join thousands of students who have transformed their careers with our industry-leading digital skills programs.</p>
                    
                    <ul class="enrollment-features">
                        <li><i class="fas fa-check-circle"></i> Flexible learning options</li>
                        <li><i class="fas fa-check-circle"></i> Expert mentorship</li>
                        <li><i class="fas fa-check-circle"></i> Career support services</li>
                        <li><i class="fas fa-check-circle"></i> Global certification</li>
                        <li><i class="fas fa-check-circle"></i> Affordable payment plans</li>
                    </ul>
                </div>
                
                <div class="enrollment-form-container">
                    <div class="form-header">
                        <h2>Register Now</h2>
                        <p>Fill in your details to begin your enrollment process</p>
                    </div>
                    
                    <form class="enrollment-form" id="enrollmentForm" >
                        <div class="alert" id="submitAlert" style="display: none;">Submitted Successfully!</div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="firstName">First Name</label>
                                <input type="text" id="firstName" name="firstName" required>
                            </div>
                            <div class="form-group">
                                <label for="lastName">Last Name</label>
                                <input type="text" id="lastName" name="lastName" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="country">Country</label>
                            <select id="country" name="country" required>
                                <option value="" disabled selected>Select your country</option>
                                <option value="us">United States</option>
                                <option value="uk">United Kingdom</option>
                                <option value="ca">Canada</option>
                                <option value="au">Australia</option>
                                <option value="in">India</option>
                                <option value="ng">Nigeria</option>
                                <option value="br">Brazil</option>
                                <option value="de">Germany</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="course">Preferred Course</label>
                            <select id="course" name="course" required>
                                <option value="" disabled selected>Select your course</option>
                                <option value="app">Application Packages</option>
                                <option value="web">Web Development</option>
                                <option value="ai">Responsible AI</option>
                                <option value="design">Graphic Design</option>
                                <option value="cyber">Cybersecurity</option>
                                <option value="data">Data Science</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="education">Highest Education Level</label>
                            <select id="education" name="education" required>
                                <option value="" disabled selected>Select education level</option>
                                <option value="highschool">High School</option>
                                <option value="associate">Associate Degree</option>
                                <option value="bachelor">Bachelor's Degree</option>
                                <option value="master">Master's Degree</option>
                                <option value="doctorate">Doctorate</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="experience">Previous Experience</label>
                            <select id="experience" name="experience" required>
                                <option value="" disabled selected>Select experience level</option>
                                <option value="none">No experience</option>
                                <option value="beginner">Beginner (0-1 years)</option>
                                <option value="intermediate">Intermediate (1-3 years)</option>
                                <option value="advanced">Advanced (3+ years)</option>
                            </select>
                        </div>
                        
                        
                        <div class="form-group">
                            <label for="message">Additional Information (Optional)</label>
                            <textarea id="message" name="message" rows="3" placeholder="Tell us about your goals or any questions you have..."></textarea>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="submit-button">Submit</button>
                        </div>
                    </form>
                    
                    <div class="login-link">
                        <p>Click to return <a href="index.html">Back</a></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Utility function to get form value by ID
        const getElementVal = (id) => {
            return document.getElementById(id).value;
        }

        // --- FIREBASE INITIALIZATION ---
        const firebaseConfig = {
            apiKey: "AIzaSyA02hhmSbJpCFcbBF6FQ6DcBUnSje6p0_M",
            authDomain: "core-digital-institute.firebaseapp.com",
            databaseURL: "https://core-digital-institute-default-rtdb.firebaseio.com",
            projectId: "core-digital-institute",
            storageBucket: "core-digital-institute.firebasestorage.app",
            messagingSenderId: "377928151947",
            appId: "1:377928151947:web:7a702d60c876860bd7b58e",
            measurementId: "G-D3BF2JBFPZ"
        };

        // Initialize Firebase
        if (typeof firebase !== 'undefined') {
            firebase.initializeApp(firebaseConfig);
            // Reference DB
            const coredigitalregistration = firebase.database().ref('coredigitalregistration');

            // Function to save data to Firebase
            const saveMessages = (firstName, lastName, email, phone, country, course, education, experience, message) => {
                var newcoredigitalregistration = coredigitalregistration.push();
                newcoredigitalregistration.set({
                    firstName: firstName,
                    lastName: lastName,
                    email: email,
                    phone: phone,
                    country: country,
                    course: course,
                    education: education,
                    experience: experience,
                    message: message,
                }).then(() => {
                    console.log("Data saved successfully!");
                    // Show success message
                    document.getElementById('submitAlert').style.display = 'block';
                    // Reset form
                    document.getElementById('enrollmentForm').reset();
                    // Hide success message after 5 seconds
                    setTimeout(() => {
                        document.getElementById('submitAlert').style.display = 'none';
                    }, 5000);
                }).catch((error) => {
                    console.error("Error saving data: ", error);
                    alert("Error submitting form. Please try again.");
                });
            };

            // Main form submission logic
            document.getElementById('enrollmentForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get form values
                const firstName = getElementVal('firstName');
                const lastName = getElementVal('lastName');
                const email = getElementVal('email');
                const phone = getElementVal('phone');
                const country = getElementVal('country');
                const course = getElementVal('course');
                const education = getElementVal('education');
                const experience = getElementVal('experience');
                const message = getElementVal('message');
                
                // Save to Firebase
                saveMessages(firstName, lastName, email, phone, country, course, education, experience, message);
            });
        } else {
            console.error("Firebase is not loaded. Check if Firebase SDK is included.");
        }
    </script>
</body>
</html>
